"use strict";(self.webpackChunkGestorIncidentesFront=self.webpackChunkGestorIncidentesFront||[]).push([[847],{8847:(Z,p,r)=>{r.r(p),r.d(p,{RolesModule:()=>M});var s=r(6814),l=r(95),d=r(6208),f=r(2898),a=r(360),e=r(4946),m=r(9988),_=r(333);function b(t,i){if(1&t&&(e.TgZ(0,"h1",14),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" Editar ",o.RoleInput.rol_nombre," ")}}let v=(()=>{class t{constructor(){this.fb=(0,e.f3M)(l.qu),this.validatorService=(0,e.f3M)(_.S),this.modalOff=new e.vpe,this.miFormulario=this.fb.group({id:[0],rol_nombre:["",[l.kI.required]],rol_descripcion:["",[l.kI.required]]})}ngOnChanges(o){if(0!==this.RoleInput.id){const{id:n,rol_nombre:c,rol_descripcion:u}=this.RoleInput;this.miFormulario.setValue({id:n,rol_nombre:c,rol_descripcion:u})}}onSubmit(){this.miFormulario.invalid?this.miFormulario.markAllAsTouched():console.log(this.miFormulario.value)}cerrarModal(){this.modalOff.emit(!1),this.miFormulario.reset()}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-roleModal"]],inputs:{RoleInput:"RoleInput"},outputs:{modalOff:"modalOff"},features:[e.TTD],decls:19,vars:2,consts:[["id","Modal","tabindex","-1","aria-labelledby","Modal","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["class","modal-title fs-5","id","exampleModalLabel",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off",3,"formGroup","ngSubmit"],["for","nombre",1,"form-label"],["type","text","id","rol_nombre","formControlName","rol_nombre","required","",1,"form-control"],["for","descripcion",1,"form-label"],["type","text","id","rol_descripcion","formControlName","rol_descripcion","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["id","exampleModalLabel",1,"modal-title","fs-5"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,b,2,1,"h1",4),e.TgZ(5,"button",5),e.NdJ("click",function(){return n.cerrarModal()}),e.qZA()(),e.TgZ(6,"div",6)(7,"h2"),e._uU(8,"Formulario"),e.qZA(),e.TgZ(9,"form",7),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(10,"label",8),e._uU(11,"Nombre Role:"),e.qZA(),e._UZ(12,"input",9),e.TgZ(13,"label",10),e._uU(14,"Descripcion:"),e.qZA(),e._UZ(15,"input",11),e.qZA()(),e.TgZ(16,"div",12)(17,"button",13),e.NdJ("click",function(){return n.onSubmit()}),e._uU(18," Enviar Solicitud "),e.qZA()()()()()),2&o&&(e.xp6(4),e.Q6J("ngIf",n.RoleInput),e.xp6(5),e.Q6J("formGroup",n.miFormulario))},dependencies:[s.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u]}),t})();function A(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"tr",10)(1,"th",11),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"titlecase"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td")(12,"div",12)(13,"button",13),e.NdJ("click",function(){const u=e.CHM(o).$implicit,h=e.oxw();return e.KtG(h.editarIncidente(u))}),e._UZ(14,"i",14),e._uU(15," Editar "),e.qZA(),e.TgZ(16,"button",15),e.NdJ("click",function(){const u=e.CHM(o).$implicit,h=e.oxw();return e.KtG(h.eliminarIncidente(u))}),e._UZ(17,"i",16),e._uU(18," Eliminar "),e.qZA()()()()}if(2&t){const o=i.$implicit;e.xp6(2),e.Oqu(o.id),e.xp6(2),e.Oqu(e.lcZ(5,4,o.rol_nombre)),e.xp6(3),e.Oqu(o.rol_descripcion),e.xp6(2),e.Oqu(e.lcZ(10,6,o.createdAt))}}let g=(()=>{class t{constructor(){this.roles=[],this.rolesMo=[],this.rolesService=(0,e.f3M)(m.f),this.roleSeleccionado={id:0,rol_nombre:"",rol_descripcion:"",rol_estado:!0,createdAt:new Date,updatedAt:new Date},this.modalOn=!1,this.obtenerRoles()}obtenerRoles(){this.rolesService.getRoles().subscribe(({rolesMy:o,rolesMo:n})=>{o?this.roles=o:this.rolesMo=n})}crearRole(){}editarIncidente(o){console.log("Clickeado editar",o.rol_nombre),this.roleSeleccionado=o}eliminarIncidente(o){console.log("Clickeado elimiar",o.rol_nombre),this.roleSeleccionado=o}onCloseModal(o){this.modalOn=o,this.roleSeleccionado={id:0,rol_nombre:"",rol_descripcion:"",rol_estado:!0,createdAt:new Date,updatedAt:new Date}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-listado"]],decls:22,vars:2,consts:[[1,"container-fluid","p-0","m-0"],[1,"row","d-flex","justify-content-around","m-0","p-0","animate__animated","animate__fadeIn"],[1,"col","p-2"],["type","button","data-bs-toggle","modal","data-bs-target","#Modal",1,"btn","btn-primary","rounded-circle","btnCustom"],[1,"col","d-flex","justify-content-end","p-2"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","text-center","animate__animated","animate__fadeIn"],["scope","col"],["class","animate__animated animate__fadeIn",4,"ngFor","ngForOf"],[3,"RoleInput","modalOff"],[1,"animate__animated","animate__fadeIn"],["scope","row"],[1,"d-flex","justify-content-center","align-content-center"],["type","button","data-bs-toggle","modal","data-bs-target","#Modal",1,"btn","btn-warning","btn-sm","me-1",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],["type","button",1,"btn","btn-danger","btn-sm","me-1",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"button",3),e.qZA(),e._UZ(4,"div",4),e.qZA(),e.TgZ(5,"div",5)(6,"table",6)(7,"thead")(8,"tr")(9,"th",7),e._uU(10,"#"),e.qZA(),e.TgZ(11,"th",7),e._uU(12,"rol_nombre"),e.qZA(),e.TgZ(13,"th",7),e._uU(14,"rol_descripcion"),e.qZA(),e.TgZ(15,"th",7),e._uU(16,"Fecha Creacion"),e.qZA(),e.TgZ(17,"th",7),e._uU(18,"Acciones"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,A,19,8,"tr",8),e.qZA()()(),e.TgZ(21,"app-roleModal",9),e.NdJ("modalOff",function(u){return n.onCloseModal(u)}),e.qZA()()),2&o&&(e.xp6(20),e.Q6J("ngForOf",n.roles),e.xp6(1),e.Q6J("RoleInput",n.roleSeleccionado))},dependencies:[s.sg,v,s.rS,s.uU],styles:[".btnCustom[_ngcontent-%COMP%]{margin-right:10px;display:flex;flex-direction:row;justify-content:center;align-items:center}"]}),t})();const C=[{path:"",component:g,children:[{path:"listado",component:g},{path:"**",redirectTo:"listado"}]}];let T=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.Bz.forChild(C),a.Bz]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[s.ez,T,d.m,l.UX,f.D]}),t})()},333:(Z,p,r)=>{r.d(p,{S:()=>l});var s=r(4946);let l=(()=>{class d{constructor(){this.firstNameAndLastnamePattern="([a-zA-Z]+) ([a-zA-Z]+)",this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.numberPattern="^[0-9]+$",this.cantBeZero=a=>0===a.value?{isZero:!0}:null}isValidField(a,e){return a.controls[e].errors&&a.controls[e].touched}isFieldOneEqualFieldTwo(a,e){return m=>{const _=m.get(a)?.value,b=m.get(e)?.value;return _!==b?(m.get(e)?.setErrors({notEqual:!0}),{notEqual:!0}):(m.get(e)?.setErrors(null),null)}}}return d.\u0275fac=function(a){return new(a||d)},d.\u0275prov=s.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);